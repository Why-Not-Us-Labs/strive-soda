{%- comment -%}
Product: When to Drink Section
- Shows lifestyle use cases with image placeholders
- Grid layout for different activities
- Image + text card format
{%- endcomment -%}

<section class="when-to-drink-section">
  <div class="when-container">
    <div class="when-intro">
      <h2 class="when-title">{{ section.settings.heading }}</h2>
      {%- if section.settings.description != blank -%}
        <p class="when-desc">{{ section.settings.description }}</p>
      {%- endif -%}
    </div>

    <div class="when-grid">

      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'use_case' -%}
            <div class="use-case-card" {{ block.shopify_attributes }}>
              <div class="use-case-image-wrapper">
                {%- if block.settings.image != blank -%}
                  <img
                    src="{{ block.settings.image | image_url: width: 800 }}"
                    alt="{{ block.settings.title }}"
                    loading="lazy"
                    class="use-case-image">
                {%- else -%}
                  <div class="use-case-placeholder">
                    <span class="placeholder-icon">{{ block.settings.placeholder_emoji }}</span>
                    <span class="placeholder-text">{{ block.settings.title }}</span>
                  </div>
                {%- endif -%}
              </div>
              <div class="use-case-content">
                <h3 class="use-case-title">{{ block.settings.title }}</h3>
                <p class="use-case-description">{{ block.settings.description }}</p>
              </div>
            </div>
        {%- endcase -%}
      {%- endfor -%}

    </div>
  </div>
</section>

<style>

:root {
  --tiffany-blue: #0ABAB5;
  --strive-orange: #FF7A00;
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

.when-to-drink-section {
  padding: clamp(60px, 8vw, 100px) 0;
  background: #F5F1E8;
  font-family: var(--font-primary);
}

.when-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 clamp(20px, 5vw, 60px);
}

.when-intro {
  text-align: center;
  margin-bottom: clamp(40px, 6vw, 60px);
}

.when-title {
  font-size: clamp(32px, 4.5vw, 56px);
  font-weight: 900;
  line-height: 1.1;
  margin: 0 0 16px;
  color: #111;
}

.when-desc {
  font-size: clamp(16px, 1.8vw, 22px);
  line-height: 1.5;
  max-width: 800px;
  margin: 0 auto;
  color: #333;
}

.when-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: clamp(24px, 4vw, 40px);
}

.use-case-card {
  background: #fff;
  border: 3px solid #111;
  overflow: hidden;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
}

.use-case-card:hover {
  transform: translateY(-4px);
}

.use-case-image-wrapper {
  position: relative;
  aspect-ratio: 4 / 3;
  overflow: hidden;
  background: #fff;
}

.use-case-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.use-case-card:hover .use-case-image {
  transform: scale(1.05);
}

.use-case-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--tiffany-blue), var(--strive-orange));
  color: #fff;
  gap: 12px;
}

.placeholder-icon {
  font-size: clamp(48px, 6vw, 72px);
}

.placeholder-text {
  font-size: clamp(14px, 1.5vw, 18px);
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.use-case-content {
  padding: clamp(20px, 4vw, 32px);
}

.use-case-title {
  font-size: clamp(18px, 2.2vw, 24px);
  font-weight: 900;
  margin: 0 0 12px;
  color: #111;
}

.use-case-description {
  font-size: clamp(14px, 1.5vw, 17px);
  line-height: 1.6;
  margin: 0;
  color: #333;
}

@media (max-width: 768px) {
  .when-grid {
    grid-template-columns: 1fr;
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  .when-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
</style>

{% schema %}
{
  "name": "Product: When to Drink",
  "disabled_on": { "groups": ["header", "footer", "aside"] },
  "settings": [
    {
      "type": "header",
      "content": "Section Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Main heading",
      "default": "When to Drink Strive"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description (optional)",
      "default": "Whether you're powering through a workout or recovering from a long day, Strive keeps you hydrated."
    }
  ],
  "blocks": [
    {
      "type": "use_case",
      "name": "Use Case",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Lifestyle image"
        },
        {
          "type": "text",
          "id": "placeholder_emoji",
          "label": "Placeholder emoji (if no image)",
          "default": "üßò"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Before Yoga"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Hydrate before your flow with electrolytes that keep you balanced and energized throughout your practice."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product: When to Drink",
      "blocks": [
        {
          "type": "use_case",
          "settings": {
            "placeholder_emoji": "üßò",
            "title": "Before Yoga",
            "description": "Hydrate before your flow with electrolytes that keep you balanced and energized throughout your practice."
          }
        },
        {
          "type": "use_case",
          "settings": {
            "placeholder_emoji": "üèÉ",
            "title": "During a Run",
            "description": "Stay fueled with essential electrolytes that replenish what you sweat out, mile after mile."
          }
        },
        {
          "type": "use_case",
          "settings": {
            "placeholder_emoji": "üßó",
            "title": "After Climbing",
            "description": "Recover faster with hydration and natural energy from organic honey. No synthetic crashes."
          }
        },
        {
          "type": "use_case",
          "settings": {
            "placeholder_emoji": "ü•æ",
            "title": "On the Trail",
            "description": "Bring better-for-you refreshment to your adventures. Tastes as good as it makes you feel."
          }
        }
      ]
    }
  ]
}
{% endschema %}
