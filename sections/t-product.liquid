{%- liquid 
    render 'inc-stylesheet', src: 'product.css'

    # Page layout
    assign mediaColumnWidth = section.settings.mediaColumnWidth
    if mediaColumnWidth == 'large'
        assign cols = 3
        assign span = 'span="2"'
    elsif mediaColumnWidth == 'small'
        assign cols = 3
        assign spanc = 'span="2"'
    elsif mediaColumnWidth == 'full'
        assign fullMediaWidth = 'full-media-width'
    else 
        assign cols = 2
    endif

    # Pin content section 
    assign pinSection = section.settings.pinSection

    # Product form ID
    assign pfid = 'product-form-' | append: section.id
-%}

<x-grid columns="1" columns-s="1" class="product-page-grid">
    <x-cell span="row">
        <product-info
            class="product-page"
            id="MainProduct-{{ section.id }}"
            data-section="{{ section.id }}"
            data-product-id="{{ product.id }}"
            data-update-url="true"
            data-url="{{ product.url }}"
        >
            <x-grid columns="{{ cols }}" columns-s="1f" pin-section="{{ pinSection }}" {{ fullMediaWidth }}>
    {%- comment -%} ---------- [ Product mobile info bar ] ----------- {%- endcomment -%}
        {%- if section.settings.mobileTitle -%}
        <x-cell class="bullet-mobile-meta small-only" order-s="1" span-s="row">
            <x-flex direction="column">
                <x-cell><a href="#xtitle" class="no-style"><h2>{{ product.title }}</h2></a></x-cell>
                <x-cell>{%- render 'product-price', product: product, use_variant: true -%}</x-cell>
            </x-flex>
        </x-cell>
        {%- endif -%}

    {%- comment -%} ---------- [ Product media ] ----------- {%- endcomment -%}
        <x-cell class="bullet-product-media" order="2" order-s="2" {{ span }} span-s="row" data-hide-variant-images="{{ section.settings.hideVariants }}">
        {%- liquid
            assign first_3d_model = product.media | where: 'media_type', 'model' | first
            if first_3d_model
                echo '<link id="ModelViewerStyle" rel="stylesheet" href="https://cdn.shopify.com/shopifycloud/model-viewer-ui/assets/v1.0/model-viewer-ui.css">'
            endif
    
            assign variant_images = product.images | where: 'attached_to_variant?', true | map: 'src'
            render 'product-media-gallery', product: product, section: section, variant_images: variant_images, imageZoom: section.settings.imageZoom, showThumbnailSlider: section.settings.showThumbnailSlider, mediaLayout: section.settings.mediaLayout, mediaLayoutMob: section.settings.mediaLayoutMob, showSlideCounter: section.settings.showSlideCounter, hideVariantImages: section.settings.hideVariants
        -%}
        </x-cell>

    {%- comment -%} ---------- [ Product content ] ----------- {%- endcomment -%}
        <x-cell class="bullet-product-content" {{ spanc }} span-s="row" order="{{ section.settings.mediaPosition }}" order-s="3" >
        <product-content x-flex direction="column">
        {%- liquid 
            for block in section.blocks
                render 'product-content', product: product, block: block, product_form_id: pfid
            endfor
        -%}

        </product-content>
        </x-cell>
    </x-grid>


    {%- comment -%} --- [ Pop up ] --- {%- endcomment -%}
    {%- assign popups = section.blocks | where: "type", "popup" -%}
    {%- for block in popups -%}
        <modal-dialog id="PopupModal-{{ block.id }}" class="product-popup-modal">
            <div class="contents" role="dialog" aria-modal="true" tabindex="-1">
                <div span="row" class="modclose text-end sticky"><button id="ModalClose-{{ block.id }}" type="button" class="is-blank times">&times;</button></div>
                <x-grid columns="2" columns-s="1">
                    <x-cell><h2 class="h2">{{ block.settings.page.title }}</h2></x-cell>
                    <x-cell><div class="rte">{{ block.settings.page.content }}</div></x-cell>
                </x-grid>
            </div>
        </modal-dialog>
    {%- endfor -%}

    {%- comment -%} --- [ Size chart popup ] --- {%- endcomment -%}
    {%- assign block_variant_picker = section.blocks | where: "type", "variant_picker" | first -%}
    {%- if block_variant_picker and block_variant_picker.settings.size_chart != blank -%}
        <modal-dialog id="PopupModal-{{ block_variant_picker.id }}" class="product-popup-modal sizeChart">
            <div class="contents" role="dialog" aria-modal="true" tabindex="-1">
                <div span="row" class="modclose text-end sticky">
                    <x-flex ai="center" jc="between">
                        <x-cell><h2 class="h2" style="padding-inline:var(--padding);margin:0">{{ block_variant_picker.settings.size_chart.title }}</h2></x-cell>
                        <x-cell><button id="ModalClose-{{ block_variant_picker.id }}" type="button" class="is-blank times">&times;</button></x-cell>
                    </x-flex>
                </div>
                <div class="rte">{{ block_variant_picker.settings.size_chart.content }}</div>
            </div>
        </modal-dialog>
    {%- endif -%}

    {%- comment -%} --- [ 3D model ] --- {%- endcomment -%}
    {%- if first_3d_model -%}
    <script type="application/json" id="ProductJSON-{{ product.id }}">{{ product.media | where: 'media_type', 'model' | json }}</script>
    {%- endif -%}

    {%- comment -%} --- [ Product JS ] --- {%- endcomment -%}
    <script src="{{ 'product.js' | asset_url }}" defer></script>

    {%- comment -%} --- [ Strive: Auto-select Subscribe & Save ] --- {%- endcomment -%}
    {%- render 'strive-subscribe-default' -%}
        </product-info>
    </x-cell>
</x-grid>

<style>
  /* PROFESSIONAL FIX: Content sits FLUSH below header - NO OVERLAP EVER */
  
  /* Step 1: Main element doesn't exist on product pages - no need to override main rules */

  /* Step 2: Main element COMPLETELY REMOVED from HTML for product pages */
  /* Sections are now direct children of component-loader (same level as header) */
  /* No main wrapper exists - sections render directly */

  /* Step 3: Section wrapper - clean, no spacing, NO overflow hidden, NO top padding */
  body.t-product #shopify-section-{{ section.id }},
  body.t-product .shopify-section:has(.product-page) {
    padding: 0 !important;
    padding-top: 0 !important;
    margin: 0 !important;
    margin-top: 0 !important;
    background: transparent;
    position: relative;
    overflow: visible !important;
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
  }

  /* Step 4: Outer x-grid wrapper - NO top spacing */
  body.t-product .product-page-grid {
    padding: 0 !important;
    padding-top: 0 !important;
    margin: 0 !important;
    margin-top: 0 !important;
    width: 100%;
    display: grid;
  }

  /* Step 5: x-cell containing product-info - NO top spacing */
  body.t-product .product-page-grid > x-cell {
    padding: 0 !important;
    padding-top: 0 !important;
    margin: 0 !important;
    margin-top: 0 !important;
  }

  /* Step 6: Product-info - simple block element, NO height constraints */
  product-info.product-page {
    display: block;
    width: 100%;
    margin: 0;
    padding: 0;
    position: relative;
    overflow: visible !important;
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
    z-index: auto !important;
  }

  /* Step 7: Inner grid - standard padding EXCEPT top (top is 0) */
  product-info.product-page > x-grid {
    display: grid;
    width: 100%;
    padding: 0 var(--padding) var(--padding) var(--padding);
    padding-top: 0 !important;
    margin: 0;
    align-items: start;
    gap: var(--padding);
  }

  /* Step 6: Content column - ZERO top spacing, NO height constraints, NO overflow clipping */
  product-info.product-page .bullet-product-content {
    align-self: start;
    padding-top: 0 !important;
    margin-top: 0 !important;
    /* CRITICAL: Remove max-height and overflow constraints that cut off content */
    max-height: none !important;
    min-height: auto !important;
    height: auto !important;
    overflow: visible !important;
    overflow-y: visible !important;
    overflow-x: visible !important;
    position: static !important; /* Remove sticky positioning that causes clipping */
  }

  /* Step 7: Product-content flex container - ZERO top spacing, NO overflow clipping */
  product-info.product-page .bullet-product-content > product-content {
    margin-top: 0 !important;
    padding-top: 0 !important;
    padding-block-start: 0 !important;
    margin-block-start: 0 !important;
    gap: 0 !important;
    row-gap: 0 !important;
    /* CRITICAL: Ensure all content is visible */
    overflow: visible !important;
    overflow-y: visible !important;
    overflow-x: visible !important;
    max-height: none !important;
    min-height: auto !important;
    height: auto !important;
  }

  /* Step 8: CRITICAL - Override product.css line 44 overflow:clip and padding-block on ALL sections */
  product-info.product-page .bullet-product-content > product-content section {
    padding-block: 0 !important;
    padding-block-start: 0 !important;
    padding-block-end: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-block-start: 0 !important;
    /* CRITICAL: Remove overflow:clip that cuts off content */
    overflow: visible !important;
    overflow-y: visible !important;
    overflow-x: visible !important;
    max-width: 100% !important; /* Allow content to flow naturally */
  }

  /* Step 9: Title section - ZERO spacing */
  product-info.product-page section.title,
  product-info.product-page #xtitle {
    margin-top: 0 !important;
    padding-top: 0 !important;
    margin-block-start: 0 !important;
    padding-block-start: 0 !important;
    padding-block: 0 !important;
  }

  /* Step 10: Description section - ZERO spacing (override product.css line 48) */
  product-info.product-page section.description {
    margin-top: 0 !important;
    padding-top: 0 !important;
    margin-block-start: 0 !important;
    padding-block-start: 0 !important;
    padding-block: 0 !important;
    padding-block-end: 0 !important;
  }

  /* Step 11: Description text container - ZERO spacing, NO overflow clipping */
  product-info.product-page section.description .text,
  product-info.product-page section.description .rte,
  product-info.product-page section .text,
  product-info.product-page section .rte {
    margin-top: 0 !important;
    padding-top: 0 !important;
    /* CRITICAL: Ensure text content is fully visible */
    overflow: visible !important;
    overflow-y: visible !important;
    overflow-x: visible !important;
    max-height: none !important;
    height: auto !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }

  /* Step 12: Title heading - ZERO spacing */
  product-info.product-page section.title h1,
  product-info.product-page section.title h2,
  product-info.product-page #xtitle h1,
  product-info.product-page #xtitle h2 {
    margin-top: 0 !important;
    padding-top: 0 !important;
    margin-block-start: 0 !important;
    padding-block-start: 0 !important;
  }

  /* Step 13: CRITICAL - Ensure x-grid and x-cell containers don't clip content */
  body.t-product .product-page-grid,
  body.t-product .product-page-grid > x-cell {
    overflow: visible !important;
    overflow-y: visible !important;
    overflow-x: visible !important;
    max-height: none !important;
    height: auto !important;
  }

  /* Step 14: CRITICAL - Sections are direct children of component-loader (main removed from HTML) */
  /* First content section (after header) - NO padding, sits FLUSH below header */
  body.t-product component-loader#app > .shopify-section:not(:has(header)):first-of-type,
  body.t-product component-loader#app > .shopify-section:not([id*="header"]):first-of-type {
    padding-top: 0 !important;
    margin-top: 0 !important;
    overflow: visible !important;
    max-height: none !important;
    height: auto !important;
  }
  
  /* Ensure header group sections don't add unwanted padding */
  body.t-product [class*="group-header"] {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
  }
  
  /* All sections flow naturally - NO main wrapper exists, NO top padding */
  body.t-product component-loader#app > .shopify-section {
    overflow: visible !important;
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
    position: relative !important;
    z-index: auto !important;
    display: block !important;
  }
  
  /* CRITICAL: Override ANY padding-top on product page sections */
  body.t-product .shopify-section:has(.product-page),
  body.t-product #shopify-section-{{ section.id }} {
    padding-top: 0 !important;
    margin-top: 0 !important;
  }

  /* Ensure product-info section doesn't overlap sections below */
  body.t-product product-info.product-page {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
  }

  /* CRITICAL: Media query overrides - Ensure NO content clipping at ANY breakpoint */
  /* Override product.css desktop rules (line 844-852) that add max-height and overflow-y */
  @media (min-width: 778px) {
    product-info.product-page .bullet-product-content {
      max-height: none !important;
      overflow-y: visible !important;
      overflow: visible !important;
      position: static !important; /* Remove sticky that causes clipping */
      height: auto !important;
      min-height: auto !important;
    }
    
    product-info.product-page .bullet-product-content > product-content {
      overflow: visible !important;
      overflow-y: visible !important;
      max-height: none !important;
      height: auto !important;
    }
    
    product-info.product-page .bullet-product-content > product-content section {
      overflow: visible !important;
      overflow-y: visible !important;
      overflow-x: visible !important;
    }
  }

  /* Override product.css tablet rules */
  @media (min-width: 778px) and (max-width: 1024px) {
    product-info.product-page .bullet-product-content {
      max-height: none !important;
      overflow-y: visible !important;
      overflow: visible !important;
      position: static !important;
      height: auto !important;
    }
  }

  /* Override product.css mobile rules */
  @media (max-width: 777px) {
    product-info.product-page .bullet-product-content {
      max-height: none !important;
      overflow-y: visible !important;
      overflow: visible !important;
      height: auto !important;
    }
    
    product-info.product-page .bullet-product-content > product-content {
      overflow: visible !important;
      max-height: none !important;
      height: auto !important;
    }
  }

  /* CRITICAL: Ensure ALL content containers are visible - no clipping anywhere */
  /* Target all containers that might clip content, but allow images/videos to have their own sizing */
  product-info.product-page .bullet-product-content,
  product-info.product-page product-content,
  product-info.product-page section,
  product-info.product-page section .text,
  product-info.product-page section .rte,
  product-info.product-page .text,
  product-info.product-page .rte,
  product-info.product-page x-cell,
  product-info.product-page x-grid {
    max-height: none !important;
    overflow: visible !important;
    overflow-y: visible !important;
    overflow-x: visible !important;
  }
  
  /* Exception: Images/videos can have max-height for responsive sizing */
  product-info.product-page img,
  product-info.product-page video,
  product-info.product-page picture {
    max-height: revert;
  }
</style>

{% schema %}
{
  "name": "Product page",
  "tag": "section",
  "settings": [
    {
      "type": "select",
      "id": "pinSection",
      "label": "Sticky section",
      "info": "On desktop, pin a section to the top while scrolling.",
      "default": "none",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "content",
          "label": "Content"
        },
        {
          "value": "media",
          "label": "Media"
        }
      ]
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "checkbox",
      "id": "mobileTitle",
      "default": true,
      "label": "Title and price - mobile",
      "info": "On mobile, show a title and pricing bar before media."
    },
    {
      "type": "header",
      "content": "Media"
    },
    {
      "type": "select",
      "id": "mediaColumnWidth",
      "label": "Desktop media size",
      "default": "normal",
      "options": [
        {
          "value": "small",
          "label": "One third"
        },
        {
          "value": "normal",
          "label": "One half"
        },
        {
          "value": "large",
          "label": "Two thirds"
        },
        {
          "value": "full",
          "label": "Full width, media first"
        }
      ]
    },
    {
      "type": "select",
      "id": "mediaPosition",
      "label": "Desktop media position",
      "default": "3",
      "options": [
        {
          "value": "3",
          "label": "Left"
        },
        {
          "value": "1",
          "label": "Right"
        }
      ]
    },
    {
      "type": "select",
      "id": "mediaLayout",
      "label": "Desktop media style",
      "default": "row1",
      "options": [
        {
          "value": "row1",
          "label": "One image per row"
        },
        {
          "value": "row2",
          "label": "Two images per row"
        },
        {
          "value": "row2full",
          "label": "Two images per row with full width first image"
        },
        {
          "value": "slider",
          "label": "Slider"
        }
      ]
    },
    {
      "type": "select",
      "id": "mediaLayoutMob",
      "label": "Mobile media style",
      "default": "row1",
      "options": [
        {
          "value": "row1",
          "label": "One image per row"
        },
        {
          "value": "slider",
          "label": "Slider"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "showThumbnailSlider",
      "label": "Enable thumbnail slider",
      "info": "When enabled, the slider counter and navigation button are hidden.",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "showSlideCounter",
      "label": "Enable slide counter",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "imageZoom",
      "default": true,
      "label": "Enable image zoom"
    },
    {
      "type": "checkbox",
      "id": "hideVariants",
      "default": false,
      "label": "Hide other variants' media after selecting a variant"
    },
    {
        "type": "checkbox",
        "id": "enable_video_autoplay",
        "label": "Enable video autoplay",
        "info": "Enable self-hosted videos to autoplay.",
        "default": false
    },
    {
      "type": "checkbox",
      "id": "enable_video_looping",
      "label": "Enable video looping",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "enable_video_controls",
      "label": "Enable video controls",
      "default": false
    }
  ],
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "separator",
      "name": "Separator"
    },
    {
      "type": "vendor",
      "name": "Vendor",
      "limit": 1
    },
    {
      "type": "title",
      "name": "Title",
      "limit": 1
    },
    {
      "type": "price",
      "name": "Price",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "hidePriceSold",
          "label": "Hide on sold out product",
          "default": false
        }
      ]
    },
    {
      "type": "sku",
      "name": "SKU",
      "limit": 1
    },
    {
      "type": "inventory",
      "name": "Inventory status",
      "limit": 1,
      "settings": [
        {
          "type": "range",
          "id": "inventory_threshold",
          "label": "Low inventory threshold",
          "min": 0,
          "max": 100,
          "step": 1,
          "info": "Choose 0 to always show in stock if available.",
          "default": 10
        },
        {
          "type": "checkbox",
          "id": "show_inventory_quantity",
          "label": "Show inventory count",
          "default": true
        },
        {
          "type": "select",
          "id": "alignment",
          "label": "Alignment",
          "default": "start",
          "options": [
            {
              "value": "start",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "end",
              "label": "Right"
            }
          ]
        }
      ]
    },
    {
      "type": "qty",
      "name": "Quantity selector",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "label",
          "label": "Show quantity heading",
          "default": true
        }
      ]
    },
    {
      "type": "variant_picker",
      "name": "Variant picker",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "picker_type",
          "label": "Style",
          "default": "dropdown",
          "options": [
            {
              "value": "dropdown",
              "label": "Dropdown"
            },
            {
              "value": "button",
              "label": "Pills"
            }
          ]
        },
        {
          "id": "swatch_shape",
          "label": "Swatch",
          "type": "select",
          "info": "Enable [swatches](https://help.shopify.com/en/manual/online-store/themes/theme-structure/theme-settings#options-with-swatches) on product options.",
          "default": "none",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "circle",
              "label": "Circle"
            },
            {
              "value": "square",
              "label": "Square"
            }
          ]
        },
        {
          "type": "checkbox",
          "id": "show_text",
          "label": "Show swatch label",
          "default": false
        },
        {
          "type": "header",
          "content": "Size chart",
          "info": "Products that are eligible for size chart function must have a Size option. A size chart button will then appear next to the Size option label."
        },
        {
          "type": "page",
          "id": "size_chart",
          "label": "Size chart page"
        }
      ]
    },
    {
      "type": "product_list",
      "name": "Product list",
      "limit": 3,
      "settings": [
        {
            "type": "paragraph",
            "content": "Additional setup is required to use this block with dynamic products. [Learn more](https://docs.openthinking.net/themes/bullet/kb/product-siblings/)"
        },
        {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Product List",
            "info": "Displayed if products are available."
        },
        {
            "type": "product_list",
            "id": "product_list",
            "label": "Products"
        },
        {
          "id": "swatch_shape",
          "label": "Swatch",
          "type": "select",
          "default": "square",
          "options": [
            {
              "value": "square",
              "label": "Square"
            },
            {
                "value": "circle",
                "label": "Circle"
            }
          ]
        },
        {
            "type": "select",
            "id": "swatch_crop",
            "label": "Image crop type",
            "default": "cover",
            "options": [
                {
                    "value": "cover",
                    "label": "Wide"
                },
                {
                    "value": "contain",
                    "label": "None"
                }
            ]
        }
      ]
    },
    {
      "type": "liquid",
      "name": "Custom Liquid",
      "settings": [
        {
          "type": "liquid",
          "id": "liquid",
          "label": "Custom Liquid"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "default": "<p>Text block</p>",
          "label": "Text"
        }
      ]
    },
    {
      "type": "subtitle",
      "name": "Subtitle",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "Make sure you have a \"Product subtitle\" metafield set up for this to work. [Learn more...](https://help.shopify.com/en/manual/metafields/metafield-definitions/adding-standard-metafield-definitions#add-a-standard-definition)"
        }
      ]
    },
    {
      "type": "description",
      "name": "Description",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Description",
          "info": "Used when collapsible description is enabled."
        },
        {
          "type": "checkbox",
          "id": "collapsibleDesc",
          "label": "Enable collapsible description",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "checked",
          "label": "Expand by default",
          "default": false
        }
      ]
    },
    {
      "type": "share",
      "name": "Share buttons",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        }
      ]
    },
    {
      "type": "paymenticons",
      "name": "Payment icons",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "The payment icons that show in your theme are determined by your store's [payment settings.](/admin/settings/payments) and the customer's region and currency. [Learn more...](https://docs.openthinking.net/themes/bullet/kb/payment-icons/)"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Secure payments:"
        },
        {
          "type": "checkbox",
          "id": "monoPaymentIcons",
          "label": "Monochrome payment icons",
          "default": false
        }
      ]
    },
    {
      "type": "trustbadge",
      "name": "Trust badges",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    },
    {
      "type": "buy_buttons",
      "name": "Buy buttons",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Float button",
          "info": "This button appears when the \"Buy buttons\" section is not visible. When clicked, the page scrolls to the \"Buy buttons\" section."
        },
        {
          "type": "checkbox",
          "id": "floatButtonShow",
          "label": "Show float button",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "floatButtonShowPrice",
          "label": "Show float button with price",
          "default": true
        },
        {
          "type": "header",
          "content": "Dynamic checkout buttons"
        },
        {
          "type": "checkbox",
          "id": "show_dynamic_checkout",
          "label": "Enable dynamic checkout buttons",
          "default": true,
          "info": "Using the payment methods available on your store, customers see their preferred option, like PayPal or Apple Pay. [Learn more](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)"
        },
        {
            "type": "checkbox",
            "id": "show_addtocart_as_primary",
            "label": "Show \"Add to Cart\" as primary button",
            "default": false,
            "info": "Keep the \"Add to Cart\" button styled as primary when dynamic checkout buttons are active."
        },
        {
          "type": "header",
          "content": "Pickup availability"
        },
        {
          "type": "checkbox",
          "id": "show_pickup_availability",
          "default": true,
          "label": "Enable pickup availability",
          "info": "Shows if a product is available for local pickup, and the estimated time frame. [Learn more](https://help.shopify.com/en/manual/shipping/setting-up-and-managing-your-shipping/local-methods/local-pickup)"
        },
        {
          "type": "header",
          "content": "Gift cards recipient"
        },
        {
          "type": "checkbox",
          "id": "show_gift_card_recipient",
          "default": false,
          "label": "Enable recipient form for gift cards",
          "info": "Allows buyers to send gift cards on a scheduled date along with a personal message. [Learn more](https://help.shopify.com/manual/online-store/themes/customizing-themes/add-gift-card-recipient-fields)"
        }
      ]
    },
    {
      "type": "collapsible_tab",
      "name": "Collapsible tab",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "info": "Include a heading that explains the content.",
          "label": "Heading",
          "default": "Collapsible tab"
        },
        {
          "type": "checkbox",
          "id": "checked",
          "label": "Expand by default",
          "default": true
        },
        {
          "type": "header",
          "content": "Content"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Tab content"
        },
        {
          "type": "page",
          "id": "page",
          "label": "Tab content from page",
          "info": "Use page as tab content"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Tab content from image",
          "info": "Use image as tab content"
        },
        {
            "type": "liquid",
            "id": "liquid",
            "label": "Tab content from Liquid",
            "info": "Use Liquid code as tab content"
        }
      ]
    },
    {
      "type": "popup",
      "name": "Pop-up",
      "settings": [
        {
          "type": "text",
          "id": "link_label",
          "default": "Pop-up link text",
          "label": "Link label"
        },
        {
          "id": "page",
          "type": "page",
          "label": "Page"
        }
      ]
    },
    {
      "type": "complementary",
      "name": "Complementary products",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "To select complementary products, add the Search & Discovery app. [Learn more](https://help.shopify.com/manual/online-store/search-and-discovery/product-recommendations)"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Pairs well with"
        },
        {
          "type": "checkbox",
          "id": "checked",
          "label": "Expand by default",
          "default": true
        },
        {
          "type": "select",
          "id": "listStyle",
          "label": "Product style",
          "default": "list",
          "options": [
            {
              "value": "list",
              "label": "List"
            },
            {
              "value": "cards",
              "label": "Cards"
            }
          ]
        },
        {
          "type": "checkbox",
          "id": "show_image",
          "label": "Show image",
          "default": false,
          "info": "Works when 'Product style' is set to 'List'."
        }
      ]
    }
  ]
}
{% endschema %}